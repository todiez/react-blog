{"ast":null,"code":"import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Create=()=>{//state to keep track of the input values which can later be saved\nconst[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");const[author,setAuthor]=useState(\"Dora\");const[isPending,setIsPending]=useState(false);const navigate=useNavigate();//Alternative to () => setTitle() inside onChange of the input field\n// const handleChange = (e) => {\n//   setTitle(e.target.value);\n// };\nconst handleSubmit=async e=>{// prevent default action (page refresh)\ne.preventDefault();//create blog object\nconst blog={title,content,author};console.log(blog);setIsPending(true);const response=await fetch(\"/api/blogs/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(blog)}).then(()=>{console.log(\"new blog added\");setIsPending(false);navigate(\"/\");//navigate back to previous page\n});//const json = await response.json();\nconsole.log(response);};return/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a new Blog\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blog Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Content:\"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:content,onChange:e=>setContent(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Blog Author\"}),/*#__PURE__*/_jsxs(\"select\",{value:author,onChange:e=>setAuthor(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Dora\",children:\"Dora\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ida\",children:\"Ida\"})]}),!isPending&&/*#__PURE__*/_jsx(\"button\",{children:\"Add Blog\"}),isPending&&/*#__PURE__*/_jsx(\"button\",{disabled:true,children:\"Adding Blog..\"})]})]});};export default Create;","map":{"version":3,"names":["useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Create","title","setTitle","content","setContent","author","setAuthor","isPending","setIsPending","navigate","handleSubmit","e","preventDefault","blog","console","log","response","fetch","method","headers","body","JSON","stringify","then","className","children","onSubmit","type","required","value","onChange","target","disabled"],"sources":["/home/tobiya/Coding/react-blog/frontend/src/Create.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Create = () => {\n  //state to keep track of the input values which can later be saved\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [author, setAuthor] = useState(\"Dora\");\n  const [isPending, setIsPending] = useState(false);\n  const navigate = useNavigate();\n\n  //Alternative to () => setTitle() inside onChange of the input field\n  // const handleChange = (e) => {\n  //   setTitle(e.target.value);\n  // };\n\n  const handleSubmit = async (e) => {\n    // prevent default action (page refresh)\n    e.preventDefault();\n    //create blog object\n    const blog = { title, content, author };\n    console.log(blog);\n\n    setIsPending(true);\n\n    const response = await fetch(\"/api/blogs/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(blog),\n    }).then(() => {\n      console.log(\"new blog added\");\n      setIsPending(false);\n      navigate(\"/\"); //navigate back to previous page\n    });\n    //const json = await response.json();\n    console.log(response);\n  };\n\n  return (\n    <div className=\"create\">\n      <h2>Add a new Blog</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Blog Title:</label>\n        <input\n          type=\"text\"\n          required\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <label>Content:</label>\n        <textarea\n          required\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n        ></textarea>\n        <label>Blog Author</label>\n        <select value={author} onChange={(e) => setAuthor(e.target.value)}>\n          <option value=\"Dora\">Dora</option>\n          <option value=\"Ida\">Ida</option>\n        </select>\n        {!isPending && <button>Add Blog</button>}\n        {isPending && <button disabled>Adding Blog..</button>}\n      </form>\n    </div>\n  );\n};\n\nexport default Create;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}